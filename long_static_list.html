<h2>Long Static List</h2>

<div class="example">
  <p>This is a trivial example that shows filtering of a static list of items.</p>
  <p>Note that this search is case-insensitive and you can use multiple search terms;
  for instance, try "jo", "jo kr", "jo 9", "joek"</p>
  <div class="filter">
    <label>Filter results:</label>
    <input>
  </div>
  <div id="contact_list" class="viewport"></div>
</div>

<script type="text/javascript">
  var orderedContactKeys = [];
  var contactMap = {};
  
  for (var i = 1, addr; i <= 5000; i++) {
    addr = "email-" + i + "@example.com";
    orderedContactKeys[i - 1] = addr;
    contactMap[addr] = fakeName(i);
  }

  var contactCache = new DataCache('contact_cache', {
    indexer: function contactIndexer(key, contact) {
      return (key + contact.first_name + contact.last_name).toLowerCase().replace(/ /g, '');
    }
  });

  contactCache.map(contactMap);

  var contactList = $('#contact_list').filteredList({
    scrollable: true,
    filterBox: $('.filter input'),
    keys: orderedContactKeys,
    dataCache: contactCache,
    renderHit: function renderContact(key, value) {
      var li = $('<li></li>');
      li.text(value.first_name + ' ' + value.last_name + ' (' + key + ')');
      return li;
    },
    renderMiss: function renderContactMiss(key) {
      return $('<li>' + key + '</li>');
    }
  });
</script>
